{{define "tags_content"}}
<section class="card shadow-sm mb-4">
  <div class="card-body">
    <h1 class="h3 mb-1">Tag settings</h1>
    <p class="text-secondary mb-3">Manage the tag badges available in item forms and filters.</p>

    {{if .Feedback}}
    <div class="alert alert-success py-2" role="alert">{{.Feedback}}</div>
    {{end}}
    {{if .Error}}
    <div class="alert alert-danger py-2" role="alert">{{.Error}}</div>
    {{end}}

    <form method="post" action="/settings/tags" class="d-flex gap-2 wrap-sm mb-3">
      <input type="hidden" name="action" value="add" />
      <input id="tag" name="tag" class="form-control" placeholder="Add new tag" value="{{.NewTag}}" />
      <button class="btn btn-primary" type="submit">Add tag</button>
    </form>

    <div class="status-filter-group d-flex flex-wrap gap-2" role="group" aria-label="Managed tags">
      {{range $idx, $tag := .TagOptions}}
      <span class="d-flex align-items-center gap-2">
        <span class="btn btn-sm status-filter-badge">{{$tag}}</span>
        <form method="post" action="/settings/tags" onsubmit="return confirm('Delete tag {{$tag}} from all items?');">
          <input type="hidden" name="action" value="delete" />
          <input type="hidden" name="tag" value="{{$tag}}" />
          <button class="btn btn-sm btn-outline-danger" type="submit">Delete</button>
        </form>
      </span>
      {{end}}
    </div>
  </div>
</section>
{{end}}

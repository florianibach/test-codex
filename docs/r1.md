# Roadmap (R1)

## 1) Zielbild für R1
R1 fokussiert auf den größten Alltagsnutzen nach dem MVP: weniger Friktion bei Entscheidungen, eine skalierbare Liste bei vielen Items und steuerbare Insights. Zusätzlich wird ein leichtgewichtiges Multi-User-Modell ohne klassische Account-Verwaltung eingeführt.

## 2) Produktentscheidungen (R1)
- **Kein klassisches Login in R1**: Keine Registrierung, kein Passwort, keine Userverwaltung.
- **Leichtgewichtiges Profil-Switching**: Beim Start kann ein Name eingegeben/ausgewählt werden, unter dem die Daten geführt werden.
- **Bearbeitbarer Entscheidungsprozess**: Items können bearbeitet, gelöscht und per Snooze aktiv verschoben werden.
- **Skalierbare Listen-Nutzung**: Filter, Suche, Sortierung und sinnvolle Default-Sortierung.
- **Tags strukturiert statt nur Freitext**: Tags sind über ein Dropdown auswählbar (optional erweiterbar).

## 3) R1 – User Stories (priorisiert)

### (done) R1-001 — Item bearbeiten
**User Story**  
Als Nutzer:in möchte ich ein bestehendes Item bearbeiten können, damit ich Preis, Wartezeit, Notiz, Link und Tags nachträglich korrigieren kann.

**Akzeptanzkriterien (Given/When/Then)**
1. **Given** ein Item existiert, **when** ich „Bearbeiten“ öffne und Änderungen speichere, **then** werden die geänderten Felder persistent übernommen.
2. **Given** ich ändere die Wartezeit oder `kauf_erlaubt_ab`, **when** ich speichere, **then** wird der Status danach konsistent neu bewertet (z. B. zurück auf `Wartet`, falls wieder in der Zukunft).
3. **Given** ich gebe ungültige Werte ein (z. B. leerer Titel), **when** ich speichern möchte, **then** erhalte ich eine klare Validierung und das Item bleibt unverändert.
4. **Given** ich breche den Edit-Flow ab, **when** ich zur Liste zurückkehre, **then** bleiben alle bisherigen Daten unverändert.

**Out of Scope**
- Versionshistorie/Audit-Trail pro Feld.
- Gleichzeitiges Co-Editing.

---

### (done) R1-002 — Item löschen
**User Story**  
Als Nutzer:in möchte ich Items löschen können, damit ich irrelevante oder versehentlich angelegte Einträge aus der Liste entfernen kann.

**Akzeptanzkriterien (Given/When/Then)**
1. **Given** ich wähle „Löschen“ für ein Item, **when** ich den Löschdialog bestätige, **then** wird das Item dauerhaft entfernt.
2. **Given** ich öffne den Löschdialog, **when** ich abbreche, **then** bleibt das Item unverändert bestehen.
3. **Given** ein Item wurde gelöscht, **when** ich Liste und Insights öffne, **then** taucht es in keinen Kennzahlen mehr auf.

**Out of Scope**
- Papierkorb/Soft-Delete mit Wiederherstellung.

---

### (done) R1-003 — Snooze / Wartezeit verlängern
**User Story**  
Als Nutzer:in möchte ich die Wartezeit eines Items gezielt verlängern (Snooze), damit ich „noch nicht jetzt“ schnell festhalten kann.

**Akzeptanzkriterien (Given/When/Then)**
1. **Given** ein Item ist `Kauf erlaubt`, **when** ich Snooze `+24h` auswähle, **then** wird `kauf_erlaubt_ab` um 24h in die Zukunft verschoben.
2. **Given** ein Item ist bereits `Kauf erlaubt`, **when** ich snooze, **then** wechselt es zurück in `Wartet`.
3. **Given** ein Item ist nicht im Status `Kauf erlaubt` (z. B. `Wartet`, `Gekauft`, `Nicht gekauft`), **when** ich die Liste sehe oder Snooze auslösen möchte, **then** ist Snooze nicht verfügbar bzw. wird serverseitig abgelehnt.
4. **Given** ich habe gesnoozed, **when** die Liste aktualisiert wird, **then** ist die neue Restwartezeit sofort sichtbar.

**Out of Scope**
- Komplexe Snooze-Regeln (z. B. automatisch wiederkehrend).

---

### (done) R1-004 — Liste bei 100+ Items: Suche, Filter, Sortierung
**User Story**  
Als Nutzer:in möchte ich die Item-Liste durchsuchen, filtern und sortieren können, damit ich auch bei vielen Einträgen schnell relevante Entscheidungen treffe.

**Akzeptanzkriterien (Given/When/Then)**
1. **Given** ich gebe einen Suchbegriff ein, **when** ich suche, **then** werden Treffer über Titel/Notiz/Link (und optional Tags) gefiltert.
2. **Given** ich setze Status-/Tag-Filter, **when** die Liste lädt, **then** werden nur passende Items angezeigt.
3. **Given** ich wähle eine Sortierung, **when** die Liste gerendert wird, **then** erscheint die Reihenfolge stabil und nachvollziehbar (z. B. `kauf_erlaubt_ab`, Erstellzeit, Preis).
4. **Given** ich öffne die Liste ohne aktive Auswahl, **when** R1-Default greift, **then** ist standardmäßig nach „als nächstes kauf-erlaubt“ sortiert.
5. **Given** ich kombiniere Suche + Filter + Sortierung, **when** ich die Ansicht aktualisiere, **then** bleibt das Ergebnis konsistent.

**Out of Scope**
- Volltextsuche mit externer Suchengine.

---

### R1-005 — Erweiterte Insights mit Trendfokus
**User Story**  
Als Nutzer:in möchte ich monatliche Trends zu Kaufentscheidungen sehen, damit ich mein Verhalten gezielt steuern kann statt nur Momentwerte zu betrachten.

**Akzeptanzkriterien (Given/When/Then)**
1. **Given** es liegen abgeschlossene Entscheidungen vor, **when** ich Insights öffne, **then** sehe ich pro Monat den Trend `Nicht gekauft` vs. `Gekauft`.
2. **Given** es gibt Items mit Status `Nicht gekauft` und Preis, **when** der Verlauf berechnet wird, **then** wird die „gesparte Summe“ als Zeitreihe pro Monat dargestellt.
3. **Given** Items haben Kategorien/Tags und Entscheidungen, **when** ich die Auswertung öffne, **then** sehe ich Kategorien mit der höchsten Verzichtsquote (`Nicht gekauft` / alle entschiedenen Items).
4. **Given** für einen Zeitraum fehlen Daten, **when** das Diagramm/Reporting angezeigt wird, **then** erscheint ein robuster Zero-State ohne Fehler.

**Out of Scope**
- Prognosemodelle/Forecasting.
- BI-Export.

---

### R1-006 — Leichtgewichtiges Mehrbenutzer-Modell ohne Login
**User Story**  
Als Haushalt/Team möchte ich beim Start einen Namen auswählen oder eingeben können, damit jede Person getrennte Daten nutzen kann, ohne Account- und Passwortverwaltung.

**Akzeptanzkriterien (Given/When/Then)**
1. **Given** die App wird geöffnet, **when** noch kein aktiver Name gewählt ist, **then** erscheint ein Startdialog zur Auswahl/Eingabe eines Namens.
2. **Given** ich bestätige einen Namen, **when** ich Items/Profil/Insights nutze, **then** sehe ich nur die Daten dieses Namenskontexts.
3. **Given** ein Name existiert bereits, **when** ich denselben Namen wieder auswähle, **then** werden die bisherigen Daten wiederverwendet.
4. **Given** ich wechsle den Namen, **when** die App neu lädt, **then** wird der neue Kontext aktiv und klar angezeigt.
5. **Given** zwei Personen nutzen unterschiedliche Namen, **when** beide arbeiten, **then** sind deren Daten logisch getrennt, ohne Passwortschutz.

**Out of Scope**
- Passwort-Login, Rollen/Rechte, Benutzerverwaltung im klassischen Sinn.
- Sicherheits-/Compliance-Anforderungen für sensible Multi-User-Szenarien.

---

### R1-007 — Tags als Dropdown statt nur Freitext
**User Story**  
Als Nutzer:in möchte ich Tags über ein Dropdown auswählen können, damit Eingaben konsistent bleiben und Filter/Insights zuverlässiger funktionieren.

**Akzeptanzkriterien (Given/When/Then)**
1. **Given** ich erfasse oder bearbeite ein Item, **when** ich das Tag-Feld öffne, **then** sehe ich eine auswählbare Liste vordefinierter Tags.
2. **Given** ich wähle ein oder mehrere Tags aus, **when** ich speichere, **then** werden diese Tags korrekt am Item gespeichert.
3. **Given** ich nutze Filter oder Insights, **when** Tags ausgewertet werden, **then** basieren Ergebnisse auf den standardisierten Dropdown-Tags.
4. **Given** optionale Freitext-Erweiterung ist aktiviert, **when** ich einen neuen Tag anlege, **then** steht er danach ebenfalls im Dropdown zur Verfügung.

**Out of Scope**
- Hierarchische Tag-Taxonomien mit beliebiger Tiefe.

## 4) Definition of Done (DoD) für jede R1-Story
- Akzeptanzkriterien sind durch Tests oder nachvollziehbare manuelle Prüfschritte abgedeckt.
- Relevante Unit- und Integrations-/Handler-Tests sind grün.
- E2E-Flows für Kernnutzung (Add/Edit/Snooze/Filter/Insights/Profilkontext) sind grün.
- README/Dokumentation enthält aktualisierte Bedienhinweise für neue R1-Funktionen.
